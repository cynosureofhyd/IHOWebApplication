@model IHOWebApplication.Models.NewsModel

<style type="text/css">
    h4{
        text-align:center;
    }
</style>
@*@section Scripts {
        @Scripts.Render("~/bundles/jqueryval")
    }*@
<link href="~/Content/sunny/jquery-ui-1.10.3.custom.min.css" rel="stylesheet" />
<link href="~/Content/kendo/2013.2.716/kendo.common.min.css" rel="stylesheet" />
<link href="~/Content/kendo/2013.2.716/kendo.default.min.css" rel="stylesheet" />
<script src="~/Scripts/jquery-1.10.2.min.js"></script>
<script src="~/Scripts/kendo.all.min.js"></script>
<script src="~/Scripts/jquery-ui-1.10.3.custom.min.js"></script>
<script type="text/javascript">
    $(document).ready(function () {
        $("#newsaccordion").accordion({
            collapsible: true,
            active: -10
        });
        $("#eventsaccordion").accordion({
            collapsible: true,
            active: -10
        });
        $("#travelandlearn").accordion({
            collapsible: true,
            active: -10
        });
        
        $('#title').css('width', '1040');
        $('#title').css('max-width', '1040px');
        var textarea = $('#editor');
        $("#editor").kendoEditor({
            value: "Hello",
            messages: {
                bold: "Bold",
                italic: "Italic",
                underline: "Underline",
                strikethrough: "Strikethrough",
                superscript: "Superscript",
                subscript: "Subscript",
                justifyCenter: "Center text",
                justifyLeft: "Align text left",
                justifyRight: "Align text right",
                justifyFull: "Justify",
                insertUnorderedList: "Insert unordered list",
                insertOrderedList: "Insert ordered list",
                indent: "Indent",
                outdent: "Outdent",
                createLink: "Insert hyperlink",
                unlink: "Remove hyperlink",
                insertImage: "Insert image",
                insertHtml: "Insert HTML",
                fontName: "Select font family",
                fontNameInherit: "(inherited font)",
                fontSize: "Select font size",
                fontSizeInherit: "(inherited size)",
                formatBlock: "Format",
                formatting: "Format",
                style: "Styles",
                emptyFolder: "Empty Folder",
                uploadFile: "Upload",
                orderBy: "Arrange by:",
                orderBySize: "Size",
                orderByName: "Name",
                invalidFileType: "The selected file \"{0}\" is not valid. Supported file types are {1}.",
                deleteFile: "Are you sure you want to delete \"{0}\"?",
                overwriteFile: "A file with name \"{0}\" already exists in the current directory. Do you want to overwrite it?",
                directoryNotFound: "A directory with this name was not found.",
                imageWebAddress: "Web address",
                imageAltText: "Alternate text",
                linkWebAddress: "Web address",
                linkText: "Text",
                linkToolTip: "ToolTip",
                linkOpenInNewWindow: "Open link in new window",
                dialogInsert: "Insert",
                dialogUpdate: "Update",
                dialogButtonSeparator: "or",
                dialogCancel: "Cancel"
            }
        })

        var publishButton = $('#Publish');
        var editor = $("#editor").data("kendoEditor");
        $('#Publish').click(function () {
            console.log(editor.value());
            //$.post("api/News", editor, function (data, status) {
            //    alert("Data: " + data + "\nStatus: " + status);
            //});
            $.ajax({
                url: "/api/News",
                type: "Post",
                data: JSON.stringify([editor.value()]), //{ Name: name,
                // Address: address, DOB: dob },
                contentType: 'application/json; charset=utf-8',
                success: function (data) { alert(data); },
                error: function () { alert('error'); }
            });

            //$.post("/api/News",
            //    editor,
            //     function (data, status) {
            //         alert("Data: " + data + "\nStatus: " + status);
            //     });
        });
    });
</script>


<style type="text/css">
    #editor {
        overflow: scroll;
        max-height: 900px;
    }

    .col-md-offset-2 {
        margin-left: 90%;
    }
</style>

@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()

    <div>
        <h4>News</h4>
    </div>

    <div id="newsaccordion">
        <h3>Finder of lucy puts evolution on display</h3>
        <div>
            <p>
                Mauris mauris ante, blandit et, ultrices a, suscipit eget, quam. Integer
                ut neque. Vivamus nisi metus, molestie vel, gravida in, condimentum sit
                amet, nunc. Nam a nibh. Donec suscipit eros. Nam mi. Proin viverra leo ut
                odio. Curabitur malesuada. Vestibulum a velit eu ante scelerisque vulputate.
            </p>
        </div>
        <h3>Core questions about human evolution</h3>
        <div>
            <p>
                Sed non urna. Donec et ante. Phasellus eu ligula. Vestibulum sit amet
                purus. Vivamus hendrerit, dolor at aliquet laoreet, mauris turpis porttitor
                velit, faucibus interdum tellus libero ac justo. Vivamus non quam. In
                suscipit faucibus urna.
            </p>
        </div>
        <h3>IHO Affiliate scientist opens exhibition</h3>
        <div>
            <p>
                Nam enim risus, molestie et, porta ac, aliquam ac, risus. Quisque lobortis.
                Phasellus pellentesque purus in massa. Aenean in pede. Phasellus ac libero
                ac tellus pellentesque semper. Sed ac felis. Sed commodo, magna quis
                lacinia ornare, quam ante aliquam nisi, eu iaculis leo purus venenatis dui.
            </p>
            <ul>
                <li>List item one</li>
                <li>List item two</li>
                <li>List item three</li>
            </ul>
        </div>
        <h3>Oldest spear points date to 500,000 years</h3>
        <div>
            <p>
                Cras dictum. Pellentesque habitant morbi tristique senectus et netus
                et malesuada fames ac turpis egestas. Vestibulum ante ipsum primis in
                faucibus orci luctus et ultrices posuere cubilia Curae; Aenean lacinia
                mauris vel est.
            </p>
            <p>
                Suspendisse eu nisl. Nullam ut libero. Integer dignissim consequat lectus.
                Class aptent taciti sociosqu ad litora torquent per conubia nostra, per
                inceptos himenaeos.
            </p>
        </div>
    </div>
    <div>
        <h4>Events</h4>
    </div>

    <div id="eventsaccordion">

        <h3>
            Test: Next Lecture
        </h3>
        <div>

        </div>
        <h3>New Test Event</h3>
        <div>

        </div>
    </div>
    
    <div>
        <h4>Travel and Learn!</h4>
    </div>
    <div id="travelandlearn">
        <h3><a href="">IHO Travel Program</a></h3>
        <h3><a href="">France</a></h3>
        <h3><a href="">Galapagos</a></h3>
    </div>

    <div class="form-horizontal">
        <h4>Create a News Article</h4>
        <hr />
        @Html.ValidationSummary(true)
        @*<div class="btn-toolbar" data-role="editor-toolbar" data-target="#editor" id="editor">

            </div>*@

        <div class="form-group">
            @Html.LabelFor(model => model.Title, new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @*@Html.EditorFor(model => model.Title)
                    @Html.ValidationMessageFor(model => model.Title)*@
                <input type="text" id="title" />
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.Content, new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @*@Html.EditorFor(model => model.Content)
                    @Html.ValidationMessageFor(model => model.Content)*@
                <textarea id="editor" rows="10" cols="30" style="width:1040px;height:240px"></textarea>
            </div>
        </div>

        <div class="form-group">
            <div class="col-md-offset-2 col-md-10">
                <input type="button" id="Publish" value="Publish" class="btn btn-default" />
            </div>
        </div>
    </div>
}

<div>
    @Html.ActionLink("Back to List", "Index")
</div>
